(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[731],{5890:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var t=s(5155),a=s(2115),l=s(5695),n=s(7027),d=s(2038);function i(e){let{content:r,onChange:s}=e;return(0,t.jsx)("div",{children:(0,t.jsx)("textarea",{id:"content",value:r,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border rounded-lg h-[500px] dark:bg-gray-800 dark:border-gray-700 transition-colors duration-300",required:!0})})}function o(e){let{content:r}=e;return(0,t.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none h-[500px] overflow-auto p-3 border rounded-lg dark:bg-gray-800 dark:border-gray-700 transition-colors duration-300",children:r?(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:r}}):(0,t.jsx)("div",{className:"text-gray-500 italic",children:"Начните вводить текст для предпросмотра..."})})}var c=s(7489),u=s(3578);function x(e){let{mode:r,onToggle:s}=e,a={hidden:u.pS3,split:[u.pS3,u.fGk],full:u.k6j};return(0,t.jsx)("button",{type:"button",onClick:s,className:"text-purple-600 hover:text-purple-700 p-1 rounded transition-colors h-8 w-8 flex items-center justify-center",title:{hidden:"Показать предпросмотр",split:"Развернуть предпросмотр",full:"Скрыть предпросмотр"}[r],children:"split"===r?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.g,{icon:u.pS3,className:"w-4 h-4"}),(0,t.jsx)(c.g,{icon:u.fGk,className:"w-3 h-3 absolute -bottom-1 -right-1"})]}):(0,t.jsx)(c.g,{icon:a[r],className:"w-4 h-4"})})}var h=s(7883);function g(){return(0,t.jsxs)("div",{className:"group relative inline-block",children:[(0,t.jsx)(c.g,{icon:h.APe,className:"w-4 h-4 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 cursor-help ml-1"}),(0,t.jsx)("div",{className:"hidden group-hover:block absolute left-0 top-6 w-64 p-4 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg z-10",children:(0,t.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,t.jsx)("li",{children:(0,t.jsx)("code",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"# Заголовок"})}),(0,t.jsx)("li",{children:(0,t.jsx)("code",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"**жирный**"})}),(0,t.jsx)("li",{children:(0,t.jsx)("code",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"*курсив*"})}),(0,t.jsx)("li",{children:(0,t.jsx)("code",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"[ссылка](url)"})}),(0,t.jsx)("li",{children:(0,t.jsx)("code",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"- список"})}),(0,t.jsx)("li",{children:(0,t.jsx)("code",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"\\`код\\`"})})]})})]})}function m(){let e=(0,l.useRouter)(),[r,s]=(0,a.useState)({title:"",content:"",author:""}),[c,u]=(0,a.useState)(""),[h,m]=(0,a.useState)("split"),b=async e=>{s(r=>({...r,content:e})),u((await (0,n.V)().use(d.A).process(e)).toString())},p=async s=>{s.preventDefault(),console.log("Form submitted:",r),e.push("/")},j=()=>{m(e=>{switch(e){case"hidden":return"split";case"split":return"full";case"full":return"hidden"}})};return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Предложить статью"}),(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium mb-1",children:"Заголовок"}),(0,t.jsx)("input",{type:"text",id:"title",value:r.title,onChange:e=>s(r=>({...r,title:e.target.value})),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-700",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"author",className:"block text-sm font-medium mb-1",children:"Автор"}),(0,t.jsx)("input",{type:"text",id:"author",value:r.author,onChange:e=>s(r=>({...r,author:e.target.value})),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-700",required:!0})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"grid gap-6 ".concat("split"===h?"grid-cols-2":"grid-cols-1"),children:[(0,t.jsxs)("div",{className:"transition-all transform duration-300 ease-in-out ".concat("full"===h?"opacity-0 scale-95 absolute inset-0":"opacity-100 scale-100"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-8 mb-1",children:[(0,t.jsxs)("label",{htmlFor:"content",className:"block text-sm font-medium flex items-center",children:["Содержание (Markdown)",(0,t.jsx)(g,{})]}),"hidden"===h&&(0,t.jsx)(x,{mode:h,onToggle:j})]}),(0,t.jsx)(i,{content:r.content,onChange:b})]}),"hidden"!==h&&(0,t.jsxs)("div",{className:"transition-all transform duration-300 ease-in-out opacity-100 scale-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-8 mb-1",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:"Предпросмотр"}),(0,t.jsx)(x,{mode:h,onToggle:j})]}),(0,t.jsx)(o,{content:c})]})]})}),(0,t.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>e.push("/"),className:"btn bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700",children:"Отмена"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Отправить"})]})]})]})}},8872:(e,r,s)=>{Promise.resolve().then(s.bind(s,5890))}},e=>{var r=r=>e(e.s=r);e.O(0,[266,919,310,441,684,358],()=>r(8872)),_N_E=e.O()}]);